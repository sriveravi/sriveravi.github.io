<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of simpleGUI</title>
  <meta name="keywords" content="simpleGUI">
  <meta name="description" content="SIMPLEGUI MATLAB code for simpleGUI.fig">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html v1.5 &copy; 2003-2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../index.html">Home</a> &gt;  <a href="index.html">GVSToolbox</a> &gt; simpleGUI.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../index.html"><img alt="<" border="0" src="../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for GVSToolbox&nbsp;<img alt=">" border="0" src="../right.png"></a></td></tr></table>-->

<h1>simpleGUI
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>SIMPLEGUI MATLAB code for simpleGUI.fig</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>function varargout = simpleGUI(varargin) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre class="comment"> SIMPLEGUI MATLAB code for simpleGUI.fig
      SIMPLEGUI, by itself, creates a new SIMPLEGUI or raises the existing
      singleton*.

      H = SIMPLEGUI returns the handle to a new SIMPLEGUI or the handle to
      the existing singleton*.

      SIMPLEGUI('CALLBACK',hObject,eventData,handles,...) calls the local
      function named CALLBACK in SIMPLEGUI.M with the given input arguments.

      SIMPLEGUI('Property','Value',...) creates a new SIMPLEGUI or raises the
      existing singleton*.  Starting from the left, property value pairs are
      applied to the GUI before simpleGUI_OpeningFcn gets called.  An
      unrecognized property name or invalid value makes property application
      stop.  All inputs are passed to simpleGUI_OpeningFcn via varargin.

      *See GUI Options on GUIDE's Tools menu.  Choose &quot;GUI allows only one
      instance to run (singleton)&quot;.

 See also: GUIDE, GUIDATA, GUIHANDLES</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="describeVariables.html" class="code" title="function describeVariables( varParams, bestIdx )">describeVariables</a>	This function tells you which variables are best in an easy to understand format</li><li><a href="exportToTable.html" class="code" title="function exportToTable( dataStruct, features, file )">exportToTable</a>	This function outputs variables in tab delimited file for further</li><li><a href="extractVarsDist.html" class="code" title="function [ featureVect,  varParams ] = extractVarsDist( trackCell, aoiPositions, maxDist, relevantAOIs, varParams )">extractVarsDist</a>	extract all variables from a cell of eye tracks</li><li><a href="loadFromTable.html" class="code" title="function dataStruct = loadFromTable( tableFile )">loadFromTable</a>	Syntax:  dataStruct = loadFromTable( tableFile )</li><li><a href="runLDALeave1Out.html" class="code" title="function  [ percCorrect w predictedVsTrue] = runLDALeave1Out( featureVect, classLabels,numSamplesPerSubj, expLabels )">runLDALeave1Out</a>	calculate leave 1 subject out accuracy for Bayes classifier with equal covariance</li><li><a href="runLRLeave1Out.html" class="code" title="function [ percCorrect w predictedVsTrue] = runLRLeave1Out( featureVect, classLabels, numSamplesPerSubj, lambdaScalar, expLabels )">runLRLeave1Out</a>	calculate leave 1 subject out accuracy for L1 penalized logistic regression</li><li><a href="runSVMLeave1Out.html" class="code" title="function [ percCorrect w predictedVsTrue ] = runSVMLeave1Out( featureVect, classLabels,numSamplesPerSubj, expLabels )">runSVMLeave1Out</a>	calculate leave 1 subject out accuracy for linear SVM</li><li><a href="smoothTracks.html" class="code" title="function dataStruct = smoothTracks( dataStruct, smoothParam )">smoothTracks</a>	Syntax:  dataStruct = smoothTracks( dataStruct )</li><li><a href="sortVariablesLR.html" class="code" title="function [ bestVariables bestToWorst  ] = sortVariablesLR( featureVect, classLabels,topVarsToKeep, topVarsToSearch )">sortVariablesLR</a>	L1 penalized logistic regression ranking of variables</li><li><a href="sortVariablesNB.html" class="code" title="function [ bestVariables, bestToWorst, accuracy ] = sortVariablesNB( featureVect, classLabels,numSamplesPerSubj, topVarsToKeep )">sortVariablesNB</a>	Naive bayes ranking of variables (using CV accuracy criterion)</li><li><a href="viewAOILandscape.html" class="code" title="function AOIimage = viewAOILandscape( aoiPos, outSideDist, A, showFigure )">viewAOILandscape</a>	A: image</li><li><a href="visualizeTrackDist.html" class="code" title="function visualizeTrackDist(  leftEyePos, leftOri, imgFile, varParams, stimSize )">visualizeTrackDist</a>	visualize the gaze data</li></ul>
This function is called by:
<ul style="list-style-image:url(../matlabicon.gif)">
</ul>
<!-- crossreference -->

<h2><a name="_subfunctions"></a>SUBFUNCTIONS <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="#_sub1" class="code">function simpleGUI_OpeningFcn(hObject, eventdata, handles, varargin)</a></li><li><a href="#_sub2" class="code">function varargout = simpleGUI_OutputFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub3" class="code">function sampRate_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub4" class="code">function sampRate_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub5" class="code">function fixDuration_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub6" class="code">function fixDuration_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub7" class="code">function width_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub8" class="code">function width_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub9" class="code">function height_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub10" class="code">function height_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub11" class="code">function pushbutton1_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub12" class="code">function kParam_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub13" class="code">function kParam_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub14" class="code">function pushbutton2_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub15" class="code">function pushbutton5_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub16" class="code">function pNum_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub17" class="code">function pNum_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub18" class="code">function edit9_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub19" class="code">function edit9_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub20" class="code">function imgFile_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub21" class="code">function imgFile_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub22" class="code">function fixRad_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub23" class="code">function fixRad_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub24" class="code">function sacStartThresh_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub25" class="code">function sacStartThresh_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub26" class="code">function sacStopThresh_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub27" class="code">function sacStopThresh_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub28" class="code">function radiobutton1_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub29" class="code">function radiobutton2_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub30" class="code">function radiobutton4_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub31" class="code">function radiobutton5_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub32" class="code">function radiobutton6_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub33" class="code">function pushbutton6_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub34" class="code">function pushbutton7_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub35" class="code">function aoiOut_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub36" class="code">function aoiOut_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub37" class="code">function aoiX_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub38" class="code">function aoiX_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub39" class="code">function aoiY_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub40" class="code">function aoiY_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub41" class="code">function relAOI_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub42" class="code">function relAOI_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub43" class="code">function Untitled_1_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub44" class="code">function handles = getVarParams(handles )</a></li><li><a href="#_sub45" class="code">function maxFix_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub46" class="code">function maxFix_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub47" class="code">function maxSac_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub48" class="code">function maxSac_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub49" class="code">function pushbutton9_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub50" class="code">function pushbutton10_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub51" class="code">function numKeep_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub52" class="code">function numKeep_CreateFcn(hObject, eventdata, handles)</a></li></ul>

<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function varargout = simpleGUI(varargin)</a>
0002 <span class="comment">% SIMPLEGUI MATLAB code for simpleGUI.fig</span>
0003 <span class="comment">%      SIMPLEGUI, by itself, creates a new SIMPLEGUI or raises the existing</span>
0004 <span class="comment">%      singleton*.</span>
0005 <span class="comment">%</span>
0006 <span class="comment">%      H = SIMPLEGUI returns the handle to a new SIMPLEGUI or the handle to</span>
0007 <span class="comment">%      the existing singleton*.</span>
0008 <span class="comment">%</span>
0009 <span class="comment">%      SIMPLEGUI('CALLBACK',hObject,eventData,handles,...) calls the local</span>
0010 <span class="comment">%      function named CALLBACK in SIMPLEGUI.M with the given input arguments.</span>
0011 <span class="comment">%</span>
0012 <span class="comment">%      SIMPLEGUI('Property','Value',...) creates a new SIMPLEGUI or raises the</span>
0013 <span class="comment">%      existing singleton*.  Starting from the left, property value pairs are</span>
0014 <span class="comment">%      applied to the GUI before simpleGUI_OpeningFcn gets called.  An</span>
0015 <span class="comment">%      unrecognized property name or invalid value makes property application</span>
0016 <span class="comment">%      stop.  All inputs are passed to simpleGUI_OpeningFcn via varargin.</span>
0017 <span class="comment">%</span>
0018 <span class="comment">%      *See GUI Options on GUIDE's Tools menu.  Choose &quot;GUI allows only one</span>
0019 <span class="comment">%      instance to run (singleton)&quot;.</span>
0020 <span class="comment">%</span>
0021 <span class="comment">% See also: GUIDE, GUIDATA, GUIHANDLES</span>
0022 
0023 <span class="comment">% Edit the above text to modify the response to help simpleGUI</span>
0024 
0025 <span class="comment">% Last Modified by GUIDE v2.5 01-Jul-2014 10:07:30</span>
0026 
0027 <span class="comment">% Begin initialization code - DO NOT EDIT</span>
0028 gui_Singleton = 1;
0029 gui_State = struct(<span class="string">'gui_Name'</span>,       mfilename, <span class="keyword">...</span>
0030                    <span class="string">'gui_Singleton'</span>,  gui_Singleton, <span class="keyword">...</span>
0031                    <span class="string">'gui_OpeningFcn'</span>, @<a href="#_sub1" class="code" title="subfunction simpleGUI_OpeningFcn(hObject, eventdata, handles, varargin)">simpleGUI_OpeningFcn</a>, <span class="keyword">...</span>
0032                    <span class="string">'gui_OutputFcn'</span>,  @<a href="#_sub2" class="code" title="subfunction varargout = simpleGUI_OutputFcn(hObject, eventdata, handles)">simpleGUI_OutputFcn</a>, <span class="keyword">...</span>
0033                    <span class="string">'gui_LayoutFcn'</span>,  [] , <span class="keyword">...</span>
0034                    <span class="string">'gui_Callback'</span>,   []);
0035 <span class="keyword">if</span> nargin &amp;&amp; ischar(varargin{1})
0036     gui_State.gui_Callback = str2func(varargin{1});
0037 <span class="keyword">end</span>
0038 
0039 <span class="keyword">if</span> nargout
0040     [varargout{1:nargout}] = gui_mainfcn(gui_State, varargin{:});
0041 <span class="keyword">else</span>
0042     gui_mainfcn(gui_State, varargin{:});
0043 <span class="keyword">end</span>
0044 <span class="comment">% End initialization code - DO NOT EDIT</span>
0045 
0046 
0047 
0048 
0049 
0050 <span class="comment">% --- Executes just before simpleGUI is made visible.</span>
0051 <a name="_sub1" href="#_subfunctions" class="code">function simpleGUI_OpeningFcn(hObject, eventdata, handles, varargin)</a>
0052 <span class="comment">% This function has no output args, see OutputFcn.</span>
0053 <span class="comment">% hObject    handle to figure</span>
0054 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0055 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0056 <span class="comment">% varargin   command line arguments to simpleGUI (see VARARGIN)</span>
0057 
0058 <span class="comment">% Choose default command line output for simpleGUI</span>
0059 handles.output = hObject;
0060 
0061 <span class="comment">% Update handles structure</span>
0062 guidata(hObject, handles);
0063 
0064 <span class="comment">% UIWAIT makes simpleGUI wait for user response (see UIRESUME)</span>
0065 <span class="comment">% uiwait(handles.figure1);</span>
0066 
0067 
0068 <span class="comment">% --- Outputs from this function are returned to the command line.</span>
0069 <a name="_sub2" href="#_subfunctions" class="code">function varargout = simpleGUI_OutputFcn(hObject, eventdata, handles) </a>
0070 <span class="comment">% varargout  cell array for returning output args (see VARARGOUT);</span>
0071 <span class="comment">% hObject    handle to figure</span>
0072 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0073 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0074 
0075 <span class="comment">% Get default command line output from handles structure</span>
0076 varargout{1} = handles.output;
0077 
0078 
0079 
0080 <a name="_sub3" href="#_subfunctions" class="code">function sampRate_Callback(hObject, eventdata, handles)</a>
0081 <span class="comment">% hObject    handle to sampRate (see GCBO)</span>
0082 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0083 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0084 
0085 <span class="comment">% Hints: get(hObject,'String') returns contents of sampRate as text</span>
0086 <span class="comment">%        str2double(get(hObject,'String')) returns contents of sampRate as a double</span>
0087 
0088 
0089 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0090 <a name="_sub4" href="#_subfunctions" class="code">function sampRate_CreateFcn(hObject, eventdata, handles)</a>
0091 <span class="comment">% hObject    handle to sampRate (see GCBO)</span>
0092 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0093 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0094 
0095 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0096 <span class="comment">%       See ISPC and COMPUTER.</span>
0097 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0098     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0099 <span class="keyword">end</span>
0100 
0101 
0102 
0103 <a name="_sub5" href="#_subfunctions" class="code">function fixDuration_Callback(hObject, eventdata, handles)</a>
0104 <span class="comment">% hObject    handle to fixDuration (see GCBO)</span>
0105 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0106 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0107 
0108 <span class="comment">% Hints: get(hObject,'String') returns contents of fixDuration as text</span>
0109 <span class="comment">%        str2double(get(hObject,'String')) returns contents of fixDuration as a double</span>
0110 
0111 
0112 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0113 <a name="_sub6" href="#_subfunctions" class="code">function fixDuration_CreateFcn(hObject, eventdata, handles)</a>
0114 <span class="comment">% hObject    handle to fixDuration (see GCBO)</span>
0115 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0116 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0117 
0118 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0119 <span class="comment">%       See ISPC and COMPUTER.</span>
0120 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0121     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0122 <span class="keyword">end</span>
0123 
0124 
0125 
0126 <a name="_sub7" href="#_subfunctions" class="code">function width_Callback(hObject, eventdata, handles)</a>
0127 <span class="comment">% hObject    handle to width (see GCBO)</span>
0128 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0129 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0130 
0131 <span class="comment">% Hints: get(hObject,'String') returns contents of width as text</span>
0132 <span class="comment">%        str2double(get(hObject,'String')) returns contents of width as a double</span>
0133 
0134 
0135 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0136 <a name="_sub8" href="#_subfunctions" class="code">function width_CreateFcn(hObject, eventdata, handles)</a>
0137 <span class="comment">% hObject    handle to width (see GCBO)</span>
0138 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0139 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0140 
0141 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0142 <span class="comment">%       See ISPC and COMPUTER.</span>
0143 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0144     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0145 <span class="keyword">end</span>
0146 
0147 
0148 
0149 <a name="_sub9" href="#_subfunctions" class="code">function height_Callback(hObject, eventdata, handles)</a>
0150 <span class="comment">% hObject    handle to height (see GCBO)</span>
0151 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0152 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0153 
0154 <span class="comment">% Hints: get(hObject,'String') returns contents of height as text</span>
0155 <span class="comment">%        str2double(get(hObject,'String')) returns contents of height as a double</span>
0156 
0157 
0158 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0159 <a name="_sub10" href="#_subfunctions" class="code">function height_CreateFcn(hObject, eventdata, handles)</a>
0160 <span class="comment">% hObject    handle to height (see GCBO)</span>
0161 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0162 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0163 
0164 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0165 <span class="comment">%       See ISPC and COMPUTER.</span>
0166 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0167     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0168 <span class="keyword">end</span>
0169 
0170 
0171 <span class="comment">% --- Executes on button press in pushbutton1.</span>
0172 <a name="_sub11" href="#_subfunctions" class="code">function pushbutton1_Callback(hObject, eventdata, handles)</a>
0173 <span class="comment">% hObject    handle to pushbutton1 (see GCBO)</span>
0174 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0175 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0176 <span class="comment">% load up data</span>
0177 
0178 [file,folder]=uigetfile;
0179 handles.dataStruct = <a href="loadFromTable.html" class="code" title="function dataStruct = loadFromTable( tableFile )">loadFromTable</a>( fullfile( folder, file) );  
0180 
0181 <span class="comment">% handles.dataStruct = loadFromTable( 'exampleTable.txt');</span>
0182 <span class="keyword">if</span> isfield(handles, <span class="string">'dataStructRaw'</span>) <span class="comment">% reset if reloading data</span>
0183     handles = rmfield(  handles, <span class="string">'dataStructRaw'</span>);
0184 <span class="keyword">end</span>
0185 handles = <a href="#_sub44" class="code" title="subfunction handles = getVarParams(handles )">getVarParams</a>(handles ); <span class="comment">% get default parameters</span>
0186 guidata(hObject,handles)
0187 fprintf( <span class="string">'Data imported to MATLAB.\n'</span>);
0188 
0189 <a name="_sub12" href="#_subfunctions" class="code">function kParam_Callback(hObject, eventdata, handles)</a>
0190 <span class="comment">% hObject    handle to kParam (see GCBO)</span>
0191 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0192 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0193 
0194 <span class="comment">% Hints: get(hObject,'String') returns contents of kParam as text</span>
0195 <span class="comment">%        str2double(get(hObject,'String')) returns contents of kParam as a double</span>
0196 
0197 
0198 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0199 <a name="_sub13" href="#_subfunctions" class="code">function kParam_CreateFcn(hObject, eventdata, handles)</a>
0200 <span class="comment">% hObject    handle to kParam (see GCBO)</span>
0201 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0202 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0203 
0204 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0205 <span class="comment">%       See ISPC and COMPUTER.</span>
0206 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0207     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0208 <span class="keyword">end</span>
0209 
0210 
0211 <span class="comment">% --- Executes on button press in pushbutton2.</span>
0212 <a name="_sub14" href="#_subfunctions" class="code">function pushbutton2_Callback(hObject, eventdata, handles)</a>
0213 <span class="comment">% hObject    handle to pushbutton2 (see GCBO)</span>
0214 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0215 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0216 <span class="comment">% smooth and interpolate</span>
0217 param = str2double( get(handles.kParam, <span class="string">'string'</span>));
0218 <span class="keyword">if</span> ~isfield(handles, <span class="string">'dataStructRaw'</span>) 
0219     handles.dataStructRaw = handles.dataStruct;
0220 <span class="keyword">end</span>
0221 handles.dataStruct = <a href="smoothTracks.html" class="code" title="function dataStruct = smoothTracks( dataStruct, smoothParam )">smoothTracks</a>( handles.dataStruct, param );
0222 guidata(hObject,handles)
0223 fprintf( <span class="string">'Kalman filtering complete.\n'</span>);
0224 
0225 <span class="comment">% --- Executes on button press in pushbutton5.</span>
0226 <a name="_sub15" href="#_subfunctions" class="code">function pushbutton5_Callback(hObject, eventdata, handles)</a>
0227 <span class="comment">% hObject    handle to pushbutton5 (see GCBO)</span>
0228 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0229 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0230 <span class="comment">% show the gaze</span>
0231 
0232 handles = <a href="#_sub44" class="code" title="subfunction handles = getVarParams(handles )">getVarParams</a>(handles );  <span class="comment">% load all parameters</span>
0233 guidata(hObject,handles) <span class="comment">% set values</span>
0234 
0235 <span class="comment">% get stimulus image</span>
0236 imgFile = get( handles.imgFile, <span class="string">'String'</span>);  <span class="comment">% if empty, will show on black</span>
0237 
0238 <span class="comment">% get trial indices</span>
0239 subj = str2double(get( handles.pNum, <span class="string">'string'</span>));
0240 
0241 <span class="keyword">if</span> ~isfield( handles.dataStruct, <span class="string">'sampsPerSubj'</span> ) <span class="comment">% make sure loaded first</span>
0242     error( [<span class="string">'Gaze Toolbox Error: Load source file first!'</span> ]);
0243 <span class="keyword">end</span>
0244        
0245 sps = handles.dataStruct.sampsPerSubj;
0246 <span class="keyword">if</span> subj &gt; length(sps); <span class="comment">% unknown participant</span>
0247     error( [<span class="string">'Gaze Toolbox Error: Only '</span> num2str(length(sps))  <span class="string">' subjects loaded, change participant number'</span>]);
0248 <span class="keyword">elseif</span> subj == 1
0249     trlIdx = 1:sps(1);  <span class="comment">% first participant</span>
0250     prevTrial = 0;
0251 <span class="keyword">else</span>
0252     trlIdx = sum(sps(1:subj-1))+1: sum(sps(1:subj-1))+sps(subj);
0253     prevTrial = sum(sps(1:subj-1));
0254 <span class="keyword">end</span>
0255 
0256 <span class="comment">% visualize tracks</span>
0257 figure(2);
0258 <span class="keyword">for</span> index = trlIdx;
0259     title( [ <span class="string">'Trial '</span> num2str( index-prevTrial )], <span class="string">'fontsize'</span>, 20 );
0260     pause(.5);
0261     
0262     leftEyePos = handles.dataStruct.trackCell{index};
0263     <span class="keyword">if</span> isfield( handles, <span class="string">'dataStructRaw'</span>)
0264         leftOri = handles.dataStructRaw.trackCell{index};
0265     <span class="keyword">else</span>
0266         leftOri = [];
0267     <span class="keyword">end</span>
0268     <a href="visualizeTrackDist.html" class="code" title="function visualizeTrackDist(  leftEyePos, leftOri, imgFile, varParams, stimSize )">visualizeTrackDist</a>(  leftEyePos, leftOri, imgFile, handles.dataStruct.varParams,  handles.dataStruct.varParams.imageSize )
0269 <span class="keyword">end</span>
0270 
0271 <a name="_sub16" href="#_subfunctions" class="code">function pNum_Callback(hObject, eventdata, handles)</a>
0272 <span class="comment">% hObject    handle to pNum (see GCBO)</span>
0273 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0274 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0275 
0276 <span class="comment">% Hints: get(hObject,'String') returns contents of pNum as text</span>
0277 <span class="comment">%        str2double(get(hObject,'String')) returns contents of pNum as a double</span>
0278 
0279 
0280 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0281 <a name="_sub17" href="#_subfunctions" class="code">function pNum_CreateFcn(hObject, eventdata, handles)</a>
0282 <span class="comment">% hObject    handle to pNum (see GCBO)</span>
0283 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0284 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0285 
0286 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0287 <span class="comment">%       See ISPC and COMPUTER.</span>
0288 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0289     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0290 <span class="keyword">end</span>
0291 
0292 
0293 
0294 <a name="_sub18" href="#_subfunctions" class="code">function edit9_Callback(hObject, eventdata, handles)</a>
0295 <span class="comment">% hObject    handle to edit9 (see GCBO)</span>
0296 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0297 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0298 
0299 <span class="comment">% Hints: get(hObject,'String') returns contents of edit9 as text</span>
0300 <span class="comment">%        str2double(get(hObject,'String')) returns contents of edit9 as a double</span>
0301 
0302 
0303 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0304 <a name="_sub19" href="#_subfunctions" class="code">function edit9_CreateFcn(hObject, eventdata, handles)</a>
0305 <span class="comment">% hObject    handle to edit9 (see GCBO)</span>
0306 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0307 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0308 
0309 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0310 <span class="comment">%       See ISPC and COMPUTER.</span>
0311 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0312     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0313 <span class="keyword">end</span>
0314 
0315 
0316 
0317 <a name="_sub20" href="#_subfunctions" class="code">function imgFile_Callback(hObject, eventdata, handles)</a>
0318 <span class="comment">% hObject    handle to imgFile (see GCBO)</span>
0319 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0320 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0321 
0322 <span class="comment">% Hints: get(hObject,'String') returns contents of imgFile as text</span>
0323 <span class="comment">%        str2double(get(hObject,'String')) returns contents of imgFile as a double</span>
0324 
0325 
0326 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0327 <a name="_sub21" href="#_subfunctions" class="code">function imgFile_CreateFcn(hObject, eventdata, handles)</a>
0328 <span class="comment">% hObject    handle to imgFile (see GCBO)</span>
0329 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0330 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0331 
0332 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0333 <span class="comment">%       See ISPC and COMPUTER.</span>
0334 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0335     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0336 <span class="keyword">end</span>
0337 
0338 
0339 
0340 <a name="_sub22" href="#_subfunctions" class="code">function fixRad_Callback(hObject, eventdata, handles)</a>
0341 <span class="comment">% hObject    handle to fixRad (see GCBO)</span>
0342 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0343 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0344 
0345 <span class="comment">% Hints: get(hObject,'String') returns contents of fixRad as text</span>
0346 <span class="comment">%        str2double(get(hObject,'String')) returns contents of fixRad as a double</span>
0347 
0348 
0349 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0350 <a name="_sub23" href="#_subfunctions" class="code">function fixRad_CreateFcn(hObject, eventdata, handles)</a>
0351 <span class="comment">% hObject    handle to fixRad (see GCBO)</span>
0352 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0353 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0354 
0355 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0356 <span class="comment">%       See ISPC and COMPUTER.</span>
0357 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0358     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0359 <span class="keyword">end</span>
0360 
0361 
0362 
0363 <a name="_sub24" href="#_subfunctions" class="code">function sacStartThresh_Callback(hObject, eventdata, handles)</a>
0364 <span class="comment">% hObject    handle to sacStartThresh (see GCBO)</span>
0365 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0366 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0367 
0368 <span class="comment">% Hints: get(hObject,'String') returns contents of sacStartThresh as text</span>
0369 <span class="comment">%        str2double(get(hObject,'String')) returns contents of sacStartThresh as a double</span>
0370 
0371 
0372 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0373 <a name="_sub25" href="#_subfunctions" class="code">function sacStartThresh_CreateFcn(hObject, eventdata, handles)</a>
0374 <span class="comment">% hObject    handle to sacStartThresh (see GCBO)</span>
0375 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0376 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0377 
0378 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0379 <span class="comment">%       See ISPC and COMPUTER.</span>
0380 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0381     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0382 <span class="keyword">end</span>
0383 
0384 
0385 
0386 <a name="_sub26" href="#_subfunctions" class="code">function sacStopThresh_Callback(hObject, eventdata, handles)</a>
0387 <span class="comment">% hObject    handle to sacStopThresh (see GCBO)</span>
0388 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0389 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0390 
0391 <span class="comment">% Hints: get(hObject,'String') returns contents of sacStopThresh as text</span>
0392 <span class="comment">%        str2double(get(hObject,'String')) returns contents of sacStopThresh as a double</span>
0393 
0394 
0395 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0396 <a name="_sub27" href="#_subfunctions" class="code">function sacStopThresh_CreateFcn(hObject, eventdata, handles)</a>
0397 <span class="comment">% hObject    handle to sacStopThresh (see GCBO)</span>
0398 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0399 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0400 
0401 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0402 <span class="comment">%       See ISPC and COMPUTER.</span>
0403 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0404     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0405 <span class="keyword">end</span>
0406 
0407 
0408 <span class="comment">% --- Executes on button press in radiobutton1.</span>
0409 <a name="_sub28" href="#_subfunctions" class="code">function radiobutton1_Callback(hObject, eventdata, handles)</a>
0410 <span class="comment">% hObject    handle to radiobutton1 (see GCBO)</span>
0411 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0412 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0413 
0414 <span class="comment">% Hint: get(hObject,'Value') returns toggle state of radiobutton1</span>
0415 
0416 
0417 <span class="comment">% --- Executes on button press in radiobutton2.</span>
0418 <a name="_sub29" href="#_subfunctions" class="code">function radiobutton2_Callback(hObject, eventdata, handles)</a>
0419 <span class="comment">% hObject    handle to radiobutton2 (see GCBO)</span>
0420 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0421 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0422 
0423 <span class="comment">% Hint: get(hObject,'Value') returns toggle state of radiobutton2</span>
0424 
0425 
0426 <span class="comment">% --- Executes on button press in radiobutton4.</span>
0427 <a name="_sub30" href="#_subfunctions" class="code">function radiobutton4_Callback(hObject, eventdata, handles)</a>
0428 <span class="comment">% hObject    handle to radiobutton4 (see GCBO)</span>
0429 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0430 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0431 
0432 <span class="comment">% Hint: get(hObject,'Value') returns toggle state of radiobutton4</span>
0433 
0434 
0435 <span class="comment">% --- Executes on button press in radiobutton5.</span>
0436 <a name="_sub31" href="#_subfunctions" class="code">function radiobutton5_Callback(hObject, eventdata, handles)</a>
0437 <span class="comment">% hObject    handle to radiobutton5 (see GCBO)</span>
0438 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0439 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0440 
0441 <span class="comment">% Hint: get(hObject,'Value') returns toggle state of radiobutton5</span>
0442 
0443 
0444 <span class="comment">% --- Executes on button press in radiobutton6.</span>
0445 <a name="_sub32" href="#_subfunctions" class="code">function radiobutton6_Callback(hObject, eventdata, handles)</a>
0446 <span class="comment">% hObject    handle to radiobutton6 (see GCBO)</span>
0447 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0448 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0449 
0450 <span class="comment">% Hint: get(hObject,'Value') returns toggle state of radiobutton6</span>
0451 
0452 
0453 <span class="comment">% --- Executes on button press in pushbutton6.</span>
0454 <a name="_sub33" href="#_subfunctions" class="code">function pushbutton6_Callback(hObject, eventdata, handles)</a>
0455 <span class="comment">% hObject    handle to pushbutton6 (see GCBO)</span>
0456 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0457 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0458 <span class="comment">% validate variable</span>
0459 
0460 handles = <a href="#_sub44" class="code" title="subfunction handles = getVarParams(handles )">getVarParams</a>(handles ); <span class="comment">% get default parameters</span>
0461 guidata(hObject,handles)
0462 
0463 <span class="comment">% if no top variables found</span>
0464 <span class="keyword">if</span> ~isfield( handles.dataStruct, <span class="string">'bestVarsIdx'</span>);
0465     error( <span class="string">'Gaze Toolbox Error: First select top variables.'</span>);
0466 <span class="keyword">end</span>
0467 bestVarsIdx = handles.dataStruct.bestVarsIdx;
0468  
0469 <span class="comment">% now validate</span>
0470 <span class="keyword">if</span> get( handles.L1Val, <span class="string">'Value'</span>)  <span class="comment">% if doing L1-LR</span>
0471     alg = <span class="string">'L1-Logistic Regression'</span>;
0472     [ percCorrect, w ] = <a href="runLRLeave1Out.html" class="code" title="function [ percCorrect w predictedVsTrue] = runLRLeave1Out( featureVect, classLabels, numSamplesPerSubj, lambdaScalar, expLabels )">runLRLeave1Out</a>( handles.dataStruct.featureVect(bestVarsIdx,:), <span class="keyword">...</span>
0473         handles.dataStruct.allLabels, handles.dataStruct.sampsPerSubj );
0474 <span class="keyword">elseif</span> get( handles.BayesVal, <span class="string">'Value'</span>)  <span class="comment">% if doing L1-LR</span>
0475     alg = <span class="string">'Bayes Classifier'</span>;;
0476     [ percCorrect, w ] = <a href="runLDALeave1Out.html" class="code" title="function  [ percCorrect w predictedVsTrue] = runLDALeave1Out( featureVect, classLabels,numSamplesPerSubj, expLabels )">runLDALeave1Out</a>( handles.dataStruct.featureVect(bestVarsIdx,:), <span class="keyword">...</span>
0477         handles.dataStruct.allLabels, handles.dataStruct.sampsPerSubj );
0478 <span class="keyword">else</span> <span class="comment">%otherwise SVM</span>
0479     alg = <span class="string">'SVM Classifier'</span>;
0480     [ percCorrect, w  ] = <a href="runSVMLeave1Out.html" class="code" title="function [ percCorrect w predictedVsTrue ] = runSVMLeave1Out( featureVect, classLabels,numSamplesPerSubj, expLabels )">runSVMLeave1Out</a>( handles.dataStruct.featureVect(bestVarsIdx,:), <span class="keyword">...</span>
0481         handles.dataStruct.allLabels, handles.dataStruct.sampsPerSubj );    
0482 <span class="keyword">end</span>
0483 fprintf( <span class="string">'\n%s Leave 1 subject out CV-Accuracy: %f, feature weights:\n'</span>, alg, percCorrect)
0484 w
0485 
0486 <span class="comment">% --- Executes on button press in pushbutton7.</span>
0487 <a name="_sub34" href="#_subfunctions" class="code">function pushbutton7_Callback(hObject, eventdata, handles)</a>
0488 <span class="comment">% hObject    handle to pushbutton7 (see GCBO)</span>
0489 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0490 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0491 <span class="comment">% identify and export</span>
0492 handles = <a href="#_sub44" class="code" title="subfunction handles = getVarParams(handles )">getVarParams</a>(handles ); <span class="comment">% get default parameters</span>
0493 guidata(hObject,handles)
0494 
0495 numWanted = str2double( get( handles.numKeep, <span class="string">'string'</span>));
0496 
0497 <span class="comment">% re-calculate feature vectors</span>
0498 fprintf( <span class="string">'Extracting all gaze variables...'</span>)
0499 [  handles.dataStruct.featureVect, handles.dataStruct.varParams ]  <span class="keyword">...</span>
0500     = <a href="extractVarsDist.html" class="code" title="function [ featureVect,  varParams ] = extractVarsDist( trackCell, aoiPositions, maxDist, relevantAOIs, varParams )">extractVarsDist</a>( handles.dataStruct.trackCell, <span class="keyword">...</span>
0501         handles.dataStruct.aoiPos, handles.dataStruct.outSideDist, <span class="keyword">...</span>
0502         handles.dataStruct.relAOI, handles.dataStruct.varParams );
0503 fprintf( <span class="string">'done.\n'</span>);
0504 
0505 <span class="keyword">if</span> get( handles.L1Select, <span class="string">'Value'</span>)  <span class="comment">% if doing L1-LR</span>
0506     fprintf( <span class="string">'\nTop L1-LR selected variables:\n'</span>);
0507     [ bestVarsIdx ] = <a href="sortVariablesLR.html" class="code" title="function [ bestVariables bestToWorst  ] = sortVariablesLR( featureVect, classLabels,topVarsToKeep, topVarsToSearch )">sortVariablesLR</a>( handles.dataStruct.featureVect, handles.dataStruct.allLabels, numWanted );                  
0508 <span class="keyword">else</span> <span class="comment">%doing Naive Bayes otherwise</span>
0509     fprintf( <span class="string">'\nTop Naive Bayes selected variables:\n'</span>);
0510     [ bestVarsIdx ] = <a href="sortVariablesNB.html" class="code" title="function [ bestVariables, bestToWorst, accuracy ] = sortVariablesNB( featureVect, classLabels,numSamplesPerSubj, topVarsToKeep )">sortVariablesNB</a>( handles.dataStruct.featureVect, handles.dataStruct.allLabels, <span class="keyword">...</span>
0511                 handles.dataStruct.sampsPerSubj, numWanted );  
0512 <span class="keyword">end</span>
0513 <span class="comment">% output best variables</span>
0514 <a href="describeVariables.html" class="code" title="function describeVariables( varParams, bestIdx )">describeVariables</a>( handles.dataStruct.varParams, bestVarsIdx ); <span class="comment">% to screen</span>
0515 <a href="exportToTable.html" class="code" title="function exportToTable( dataStruct, features, file )">exportToTable</a>( handles.dataStruct, handles.dataStruct.featureVect(bestVarsIdx,:), <span class="string">'variablesTable.txt'</span> ); <span class="comment">% to table</span>
0516 fprintf( <span class="string">'Exported to file variablesTable.txt\n'</span>);
0517 
0518 <span class="comment">% add top variables to struct</span>
0519 handles.dataStruct.bestVarsIdx = bestVarsIdx;
0520 guidata(hObject,handles)
0521 
0522 <a name="_sub35" href="#_subfunctions" class="code">function aoiOut_Callback(hObject, eventdata, handles)</a>
0523 <span class="comment">% hObject    handle to aoiOut (see GCBO)</span>
0524 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0525 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0526 
0527 <span class="comment">% Hints: get(hObject,'String') returns contents of aoiOut as text</span>
0528 <span class="comment">%        str2double(get(hObject,'String')) returns contents of aoiOut as a double</span>
0529 
0530 
0531 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0532 <a name="_sub36" href="#_subfunctions" class="code">function aoiOut_CreateFcn(hObject, eventdata, handles)</a>
0533 <span class="comment">% hObject    handle to aoiOut (see GCBO)</span>
0534 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0535 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0536 
0537 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0538 <span class="comment">%       See ISPC and COMPUTER.</span>
0539 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0540     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0541 <span class="keyword">end</span>
0542 
0543 
0544 
0545 <a name="_sub37" href="#_subfunctions" class="code">function aoiX_Callback(hObject, eventdata, handles)</a>
0546 <span class="comment">% hObject    handle to aoiX (see GCBO)</span>
0547 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0548 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0549 
0550 <span class="comment">% Hints: get(hObject,'String') returns contents of aoiX as text</span>
0551 <span class="comment">%        str2double(get(hObject,'String')) returns contents of aoiX as a double</span>
0552 
0553 
0554 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0555 <a name="_sub38" href="#_subfunctions" class="code">function aoiX_CreateFcn(hObject, eventdata, handles)</a>
0556 <span class="comment">% hObject    handle to aoiX (see GCBO)</span>
0557 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0558 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0559 
0560 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0561 <span class="comment">%       See ISPC and COMPUTER.</span>
0562 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0563     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0564 <span class="keyword">end</span>
0565 
0566 
0567 
0568 <a name="_sub39" href="#_subfunctions" class="code">function aoiY_Callback(hObject, eventdata, handles)</a>
0569 <span class="comment">% hObject    handle to aoiY (see GCBO)</span>
0570 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0571 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0572 
0573 <span class="comment">% Hints: get(hObject,'String') returns contents of aoiY as text</span>
0574 <span class="comment">%        str2double(get(hObject,'String')) returns contents of aoiY as a double</span>
0575 
0576 
0577 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0578 <a name="_sub40" href="#_subfunctions" class="code">function aoiY_CreateFcn(hObject, eventdata, handles)</a>
0579 <span class="comment">% hObject    handle to aoiY (see GCBO)</span>
0580 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0581 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0582 
0583 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0584 <span class="comment">%       See ISPC and COMPUTER.</span>
0585 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0586     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0587 <span class="keyword">end</span>
0588 
0589 
0590 
0591 <a name="_sub41" href="#_subfunctions" class="code">function relAOI_Callback(hObject, eventdata, handles)</a>
0592 <span class="comment">% hObject    handle to relAOI (see GCBO)</span>
0593 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0594 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0595 
0596 <span class="comment">% Hints: get(hObject,'String') returns contents of relAOI as text</span>
0597 <span class="comment">%        str2double(get(hObject,'String')) returns contents of relAOI as a double</span>
0598 
0599 
0600 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0601 <a name="_sub42" href="#_subfunctions" class="code">function relAOI_CreateFcn(hObject, eventdata, handles)</a>
0602 <span class="comment">% hObject    handle to relAOI (see GCBO)</span>
0603 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0604 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0605 
0606 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0607 <span class="comment">%       See ISPC and COMPUTER.</span>
0608 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0609     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0610 <span class="keyword">end</span>
0611 
0612 
0613 <span class="comment">% --------------------------------------------------------------------</span>
0614 <a name="_sub43" href="#_subfunctions" class="code">function Untitled_1_Callback(hObject, eventdata, handles)</a>
0615 <span class="comment">% hObject    handle to Untitled_1 (see GCBO)</span>
0616 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0617 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0618 
0619 
0620 <a name="_sub44" href="#_subfunctions" class="code">function handles = getVarParams(handles )</a>
0621 
0622 <span class="comment">% get screen size</span>
0623 w = str2double( get(handles.width, <span class="string">'string'</span>));
0624 h = str2double( get(handles.height, <span class="string">'string'</span>));
0625 handles.dataStruct.varParams.imageSize = [h; w];
0626 
0627 <span class="comment">% fixMinNumSamples = duration * sampRate</span>
0628 handles.dataStruct.varParams.fixMinNumSamples = ceil(str2double( get(handles.fixDuration, <span class="string">'string'</span>))*str2double( get(handles.sampRate, <span class="string">'string'</span>))/1000);
0629 handles.dataStruct.varParams.fixMaxCircleRadius = str2double( get(handles.fixRad, <span class="string">'string'</span>));
0630 handles.dataStruct.varParams.velThreshold = str2double( get(handles.sacStartThresh, <span class="string">'string'</span>));
0631 handles.dataStruct.varParams.stopThreshold = str2double( get(handles.sacStopThresh, <span class="string">'string'</span>));
0632 handles.dataStruct.varParams.numFixationInSeq = str2double( get(handles.maxFix, <span class="string">'string'</span>));
0633 handles.dataStruct.varParams.numSaccadesInSeq = str2double( get(handles.maxSac, <span class="string">'string'</span>));
0634 
0635 <span class="comment">% get AOI parameters</span>
0636 aoiX = get( handles.aoiX, <span class="string">'string'</span>);
0637 aoiX = cell2mat( textscan(aoiX, <span class="string">'%f'</span>,<span class="string">'delimiter'</span>, <span class="string">','</span>))';
0638 aoiY = get( handles.aoiY, <span class="string">'string'</span>);
0639 aoiY = cell2mat( textscan(aoiY, <span class="string">'%f'</span>,<span class="string">'delimiter'</span>, <span class="string">','</span>))';
0640 aoiPos = [aoiX; aoiY];
0641 outSideDist = str2double( get( handles.aoiOut, <span class="string">'string'</span>));
0642 handles.dataStruct.aoiPos = aoiPos;
0643 handles.dataStruct.outSideDist = outSideDist;
0644 relAOI = get( handles.relAOI, <span class="string">'string'</span>);
0645 handles.dataStruct.relAOI = cell2mat( textscan(relAOI, <span class="string">'%f'</span>,<span class="string">'delimiter'</span>, <span class="string">','</span>));
0646 
0647 
0648 <a name="_sub45" href="#_subfunctions" class="code">function maxFix_Callback(hObject, eventdata, handles)</a>
0649 <span class="comment">% hObject    handle to maxFix (see GCBO)</span>
0650 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0651 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0652 
0653 <span class="comment">% Hints: get(hObject,'String') returns contents of maxFix as text</span>
0654 <span class="comment">%        str2double(get(hObject,'String')) returns contents of maxFix as a double</span>
0655 
0656 
0657 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0658 <a name="_sub46" href="#_subfunctions" class="code">function maxFix_CreateFcn(hObject, eventdata, handles)</a>
0659 <span class="comment">% hObject    handle to maxFix (see GCBO)</span>
0660 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0661 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0662 
0663 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0664 <span class="comment">%       See ISPC and COMPUTER.</span>
0665 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0666     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0667 <span class="keyword">end</span>
0668 
0669 
0670 
0671 <a name="_sub47" href="#_subfunctions" class="code">function maxSac_Callback(hObject, eventdata, handles)</a>
0672 <span class="comment">% hObject    handle to maxSac (see GCBO)</span>
0673 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0674 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0675 
0676 <span class="comment">% Hints: get(hObject,'String') returns contents of maxSac as text</span>
0677 <span class="comment">%        str2double(get(hObject,'String')) returns contents of maxSac as a double</span>
0678 
0679 
0680 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0681 <a name="_sub48" href="#_subfunctions" class="code">function maxSac_CreateFcn(hObject, eventdata, handles)</a>
0682 <span class="comment">% hObject    handle to maxSac (see GCBO)</span>
0683 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0684 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0685 
0686 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0687 <span class="comment">%       See ISPC and COMPUTER.</span>
0688 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0689     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0690 <span class="keyword">end</span>
0691 
0692 
0693 <span class="comment">% --- Executes on button press in pushbutton9.</span>
0694 <a name="_sub49" href="#_subfunctions" class="code">function pushbutton9_Callback(hObject, eventdata, handles)</a>
0695 <span class="comment">% hObject    handle to pushbutton9 (see GCBO)</span>
0696 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0697 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0698 <span class="comment">% load image</span>
0699 [file,folder]=uigetfile;
0700 set( handles.imgFile, <span class="string">'String'</span>, fullfile( folder, file));
0701 
0702 
0703 <span class="comment">% --- Executes on button press in pushbutton10.</span>
0704 <a name="_sub50" href="#_subfunctions" class="code">function pushbutton10_Callback(hObject, eventdata, handles)</a>
0705 <span class="comment">% hObject    handle to pushbutton10 (see GCBO)</span>
0706 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0707 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0708 <span class="comment">% visualize AOIs</span>
0709 <span class="comment">% load up stuff</span>
0710 handles = <a href="#_sub44" class="code" title="subfunction handles = getVarParams(handles )">getVarParams</a>(handles ); <span class="comment">% get default parameters</span>
0711 guidata(hObject,handles)
0712 
0713 <span class="comment">% get stimulus image</span>
0714 showFigure =1;
0715 imgFile = get( handles.imgFile, <span class="string">'String'</span>);  <span class="comment">% if empty, will show on black</span>
0716 <span class="keyword">if</span> isempty( imgFile)
0717     stimSize = handles.dataStruct.varParams.imageSize;
0718     A = uint8(zeros( stimSize(1), stimSize(2), 3));
0719 <span class="keyword">else</span>
0720     A = imread( imgFile );
0721 <span class="keyword">end</span>
0722 
0723 <span class="comment">%show it</span>
0724 figure(2);
0725 AOIimage = <a href="viewAOILandscape.html" class="code" title="function AOIimage = viewAOILandscape( aoiPos, outSideDist, A, showFigure )">viewAOILandscape</a>( handles.dataStruct.aoiPos, handles.dataStruct.outSideDist, A, showFigure );
0726 
0727 
0728 
0729 <a name="_sub51" href="#_subfunctions" class="code">function numKeep_Callback(hObject, eventdata, handles)</a>
0730 <span class="comment">% hObject    handle to numKeep (see GCBO)</span>
0731 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0732 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0733 
0734 <span class="comment">% Hints: get(hObject,'String') returns contents of numKeep as text</span>
0735 <span class="comment">%        str2double(get(hObject,'String')) returns contents of numKeep as a double</span>
0736 
0737 
0738 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0739 <a name="_sub52" href="#_subfunctions" class="code">function numKeep_CreateFcn(hObject, eventdata, handles)</a>
0740 <span class="comment">% hObject    handle to numKeep (see GCBO)</span>
0741 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0742 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0743 
0744 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0745 <span class="comment">%       See ISPC and COMPUTER.</span>
0746 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0747     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0748 <span class="keyword">end</span></pre></div>
<hr><address>Generated on Tue 01-Jul-2014 12:35:04 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" title="Matlab Documentation in HTML">m2html</a></strong> &copy; 2005</address>
</body>
</html>